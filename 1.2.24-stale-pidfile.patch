--- origsrc/dbus-1.2.24/bus/bus.c	2010-03-23 14:01:32.000000000 -0500
+++ src/dbus-1.2.24/bus/bus.c	2010-05-16 01:36:45.123284500 -0500
@@ -35,6 +35,7 @@
 #include <dbus/dbus-hash.h>
 #include <dbus/dbus-credentials.h>
 #include <dbus/dbus-internals.h>
+#include <signal.h>
 
 struct BusContext
 {
@@ -295,10 +296,25 @@ process_config_first_time_only (BusConte
 
       if (_dbus_stat (&u, &stbuf, NULL))
         {
+          DBusString p;
+          long /* int */ pid;
+
+          _dbus_string_init (&p);
+          _dbus_file_get_contents(&p, &u, NULL);
+          _dbus_string_parse_int(&p, 0, &pid, NULL);
+          _dbus_string_free(&p);
+
+          if ((kill((int)pid, 0))) {
+            dbus_set_error(NULL, DBUS_ERROR_FILE_EXISTS,
+                           "pid %ld not running, removing stale pid file\n",
+                           pid);
+            _dbus_delete_file(&u, NULL);
+          } else {
           dbus_set_error (error, DBUS_ERROR_FAILED,
 		                  "The pid file \"%s\" exists, if the message bus is not running, remove this file",
                           pidfile);
 	      goto failed;
+          }
         }
     }
 
